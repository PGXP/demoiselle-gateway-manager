<div>
    <a class="btn btn-inverse pull-right" back-button>
        <i class="glyphicon glyphicon-arrow-left"></i> Voltar
    </a>
</div>
<div class="painel painel-default animated fadeInUp" has-roles-disable="USER_ROLES.ADMINISTRADOR,USER_ROLES.CADASTRADOR">
    <h3 class="page-header">
        Equipamento <small>Manter</small>
    </h3>

    <form name="formEquipamento" role="form">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group row">
                    <div class="col-md-1">
                        <label for="id">&nbsp;</label>
                        <input class="form-control" disabled=disabled type="text" id="id" ng-model="equipamento.id">
                    </div>
                    <div class="col-md-8">
                        <label for="nome">Equipamento:<font color="#FF0000"> *</font></label>
                        <input type="text" class="form-control" id="nome" ng-model="equipamento.tipo" required>
                        <span id="nome-message" class="text-danger"></span>
                    </div>
                    <div class="col-md-3">
                        <label for="codigoequipamento">CÃ³digo:</label>
                        <input class="form-control" type="text" id="codigoequipamento" ng-model="equipamento.codigo" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-group row">
                        <div class="col-md-3">
                            <label for="tema">Tema:</label>
                            <select id="tema" class="form-control"
                                    ng-model="tema" ng-change="carregarProdutos()"
                                    ng-options="t.nome for t in temas">
                                <option value="" disabled>-- Selecione um tema --</option>
                            </select>
                        </div>
                        <div class="col-md-5">
                            <label for="produtoAdd">Produtos:</label>
                            <select id="produtoAdd" class="form-control"
                                    ng-model="produto"
                                    ng-options="p.nome +' v.'+p.versao group by p.nome for p in resultadoProdutos">
                                <option value="" disabled>-- Selecione um produto --</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label for="adicionarProduto">&nbsp;</label>
                            <button id="adicionarProduto" class="form-control btn btn-primary" type="button" ng-click="adicionarProduto(produto)">
                                <i class="glyphicon glyphicon-plus"> </i> Adicionar
                            </button>
                        </div>
                    </div>
                </div>

                <div class="form-group row" ng:show="produtosSelecionados.length > 0">
                    <div class="col-md-6">
                        <table class="table table-striped table-bordered table-hover dataTable no-footer" id="dataTables-example" aria-describedby="dataTables-example_info" >
                            <thead>
                                <tr role="row">
                                    <th tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" aria-sort="ascending"
                                        aria-label="Rendering engine: activate to sort column ascending" style="width: 90%;">Produto</th>
                                    <th tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1"
                                        aria-label="Platform(s): activate to sort column ascending" style="width: 10%;"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="ps in produtosSelecionados" has-roles-disable="USER_ROLES.ADMINISTRADOR, USER_ROLES.CADASTRADOR"  class="nga-default nga-stagger nga-squash-left">
                                    <td><h5 class="list-group-item-heading">
                                            {{ps.nome}} <small>{{ps.versao}}</small>
                                        </h5>
                                        <p class="list-group-item-text">{{ps.descricao | trunk:true:200}}</p>
                                    </td>
                                    <td><a ng-click="removeProduto(ps)" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div has-roles="USER_ROLES.CADASTRADOR, USER_ROLES.ADMINISTRADOR">
            <button class="btn btn-primary" ng-click="save()">
                <!--ng-disabled="formProduto.$invalid"-->
                <i class="glyphicon glyphicon-ok-sign"> </i> Salvar
            </button>
            <a has-roles="USER_ROLES.CADASTRADOR, USER_ROLES.ADMINISTRADOR" confirm-button title="Excluir?" confirm-action="delete(equipamento.id)" class="btn btn-danger"
               ng-show="equipamento.id">
                <i class="glyphicon glyphicon-minus-sign"></i> Excluir
            </a>
            <a class="btn btn-inverse pull-right" back-button>
                <i class="glyphicon glyphicon-arrow-left"></i> Voltar
            </a>
        </div>
    </form>
</div>

<div ng-show="!currentUser">
    <a class="btn btn-inverse pull-right" back-button>
        <i class="glyphicon glyphicon-arrow-left"></i> Voltar
    </a>
</div>
